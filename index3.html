<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<head>
  <meta content='text/html; charset=utf-8' http-equiv='content-type' />
  <meta content='Les Hill' name='author' />
  <title>
    Wonderland &mdash; Home
  </title>
  <link href='/css/blueprint/screen.css' media='screen, projection' rel='stylesheet' type='text/css' />
  <link href='/css/blueprint/print.css' media='print' rel='stylesheet' type='text/css' />
  <!--[if IE]> <link rel="stylesheet" href="/css/blueprint/ie.css" type="text/css" media="screen, projection" /> <![endif]-->
  <link href='/css/coderay.css' media='screen, projection' rel='stylesheet' type='text/css' />
  <link href='/css/jquery.twitter.css' media='screen, projection' rel='stylesheet' type='text/css' />
  <link href='/css/site.css' media='screen, projection' rel='stylesheet' type='text/css' />
  <script src='http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js' type='text/javascript'></script>
  <script src='/javascript/jquery.twitter.js' type='text/javascript'></script>
  <script src='/javascript/application.js' type='text/javascript'></script>
  <link href='http://blog.leshill.org/feed/atom.xml' rel='alternate' title='RSS feed' type='application/atom+xml' />
</head>
<body>
  <div class='container'>
    <div class='span-24' id='header'>
      <div class='prepend-1 span-11 append-8'>
        <a href='/'>
          <img src='/images/title.png' />
        </a>
      </div>
    </div>
    <div class='span-24' id='main'>
      <div class='prepend-1 span-15 append-1' id='content'>
        <div class='span-15 height-1'></div>
        <div class='span-15' id='content'>
          <div class='title'>
            <h2 class='entry-title'>
              <a href='/blog/2009/01/01/using-s3-authenticated-read-with-paperclip.html'>
                Using S3 Authenticated-Read With Paperclip
              </a>
            </h2>
          </div>
          <div class='post-date'>
            <abbr class='published' title='Thu Jan 01 09:46:16 -0500 2009'>
              Posted
              January 01, 2009
            </abbr>
          </div>
          <div class='entry-content'>
            <p><a href=":http://www.thoughtbot.com/projects/paperclip">Paperclip</a> supports <strong>AWS S3</strong> with a default of <em>public-read</em> access policy.  This allows anyone who knows the URL of the resource to access it.</p>&#x000A;<p>For some applications, you might want a more restricted access policy.  The <em>authenticated-read</em> access policy requires that the URL of the resource be presented by an authenticated user.</p>&#x000A;<p>To use <em>authenticated-read</em> with <strong>Paperclip</strong>:</p>&#x000A;<ul>&#x000A;	<li>set the <code>:s3_permissions</code> option on your attachment:</li>&#x000A;</ul>&#x000A;<div class="CodeRay">&#x000A;  <div class="code"><pre><span class="no">1</span> <span class="sy">:s3_permssions</span> =&gt; <span class="s"><span class="dl">'</span><span class="k">authenticated-read</span><span class="dl">'</span></span></pre></div>&#x000A;</div>&#x000A;<ul>&#x000A;	<li>use <code>RightAws::S3Interface#get_link</code> to generate an <em>authenticated-read</em> URL for the attachment:</li>&#x000A;</ul>&#x000A;<div class="CodeRay">&#x000A;  <div class="code"><pre><span class="no">1</span> <span class="r">def</span> <span class="fu">s3_url</span>(style = <span class="pc">nil</span>, time_limit = <span class="i">15</span>.minutes)&#x000A;<span class="no">2</span>   attachment.s3.interface.get_link(attachment.s3_bucket.to_s, attachment.path(style), time_limit)&#x000A;<span class="no">3</span> <span class="r">end</span></pre></div>&#x000A;</div>&#x000A;<p>If you do not normally need to time limit the access, use <code>nil</code> as the default value for <code>time_limit</code></p>
          </div>
          <div class='title'>
            <h2 class='entry-title'>
              <a href='/blog/2008/12/24/tip-rsync-options-for-webby.html'>
                Tip: Rsync Options for Webby
              </a>
            </h2>
          </div>
          <div class='post-date'>
            <abbr class='published' title='Wed Dec 24 18:49:36 -0500 2008'>
              Posted
              December 24, 2008
            </abbr>
          </div>
          <div class='entry-content'>
            <p>If you are making substantial changes to your <a href="http://github.com/TwP/based">Webby</a> site, you will have no doubt noticed that deleted files are not automatically removed from the <code>output</code> directory or the deploy server.</p>&#x000A;<p>Use the following <code>Sitefile</code> to:</p>&#x000A;<ul>&#x000A;	<li>clear the output directory</li>&#x000A;	<li>build the site</li>&#x000A;	<li>deploy the site with <strong>rsync</strong> with the checksum and delete options<sup class="footnote"><a href="#fn1">1</a></sup><sup class="footnote"><a href="#fn2">2</a></sup></li>&#x000A;</ul>&#x000A;<div class="CodeRay">&#x000A;  <div class="code"><pre><span class="no"> 1</span> <span class="co">SITE</span>.host = <span class="s"><span class="dl">'</span><span class="k">HOST</span><span class="dl">'</span></span>&#x000A;<span class="no"> 2</span> <span class="c"># use delete and checksum through ssh</span>&#x000A;<span class="no"> 3</span> <span class="co">SITE</span>.rsync_args = [<span class="s"><span class="dl">'</span><span class="k">-r</span><span class="dl">'</span></span>, <span class="s"><span class="dl">'</span><span class="k">-c</span><span class="dl">'</span></span>, <span class="s"><span class="dl">'</span><span class="k">--delete</span><span class="dl">'</span></span>, <span class="s"><span class="dl">'</span><span class="k">--rsh=ssh</span><span class="dl">'</span></span>]&#x000A;<span class="no"> 4</span> <span class="co">SITE</span>.remote_dir = <span class="s"><span class="dl">'</span><span class="k">/SOME/DIR</span><span class="dl">'</span></span>&#x000A;<span class="no"> 5</span> &#x000A;<span class="no"> 6</span> &#x000A;<span class="no"> 7</span> task <span class="sy">:default</span> =&gt; <span class="sy">:build</span>&#x000A;<span class="no"> 8</span> &#x000A;<span class="no"> 9</span> desc <span class="s"><span class="dl">'</span><span class="k">deploy the site to the webserver</span><span class="dl">'</span></span>&#x000A;<span class="no"><strong>10</strong></span> task <span class="sy">:deploy</span> =&gt; [<span class="sy">:clobber</span>, <span class="sy">:build</span>, <span class="s"><span class="dl">'</span><span class="k">deploy:rsync</span><span class="dl">'</span></span>]</pre></div>&#x000A;</div>&#x000A;<p class="footnote" id="fn1"><sup>1</sup> <strong>Rsync</strong> will only update changed files, and will detect deleted files.</p>&#x000A;<p class="footnote" id="fn2"><sup>2</sup> Using the <code>--delete</code> option will remove files from your deploy server; if you have mixed your <strong>Webby</strong> content with server-only files<sup class="footnote"><a href="#fn3">3</a></sup>, you should not use this.</p>&#x000A;<p class="footnote" id="fn3"><sup>3</sup> You may want to reconsider doing that.</p>
          </div>
          <div class='title'>
            <h2 class='entry-title'>
              <a href='/blog/2008/12/22/hello-webby.html'>
                Hello Webby!
              </a>
            </h2>
          </div>
          <div class='post-date'>
            <abbr class='published' title='Mon Dec 22 20:34:53 -0500 2008'>
              Posted
              December 22, 2008
            </abbr>
          </div>
          <div class='entry-content'>
            <p>As of this post, I am using publishing <strong>Wonderland</strong> with <a href="http://webby.rubyforge.org">Webby</a> .</p>&#x000A;<p>Some of the things I like about <strong>Webby</strong>:</p>&#x000A;<ul>&#x000A;	<li>desktop based &#8212; updates are made on my laptop, giving me a wider choice of tools for writing this blog <sup class="footnote"><a href="#fn1">1</a></sup><sup class="footnote"><a href="#fn2">2</a></sup></li>&#x000A;	<li>static pages &#8212; the blog site is served from <strong>Apache</strong> as pure html files, there is no requirement to run a blogging server <sup class="footnote"><a href="#fn3">3</a></sup></li>&#x000A;	<li>extensible &#8212; <strong>Webby</strong> can be extended both with rake tasks and Ruby code<sup class="footnote"><a href="#fn4">4</a></sup></li>&#x000A;</ul>&#x000A;<p class="footnote" id="fn1"><sup>1</sup> Yes, this explains why I have not written a post recently.</p>&#x000A;<p class="footnote" id="fn2"><sup>2</sup> This post was edited with MacVim.</p>&#x000A;<p class="footnote" id="fn3"><sup>3</sup> I know, old school, some <a href="http://www.nedbatchelder.com">folks</a> have been publishing this way for a long time.</p>&#x000A;<p class="footnote" id="fn4"><sup>4</sup> Easy! A one-liner <a href="http://gist.github.com">gist</a> filter.</p>&#x000A;<div class="CodeRay">&#x000A;  <div class="code"><pre><span class="no">1</span> <span class="co">Webby</span>::<span class="co">Filters</span>.register <span class="sy">:gist</span> { |input| input.gsub(<span class="rx"><span class="dl">/</span><span class="k">gist(</span><span class="ch">\d</span><span class="k">+)</span><span class="ch">\.</span><span class="dl">/</span></span>) { |s| <span class="s"><span class="dl">&quot;</span><span class="k">&lt;script src='http://gist.github.com/</span><span class="il"><span class="idl">#{</span><span class="gv">$1</span><span class="idl">}</span></span><span class="k">.js'&gt;&lt;/script&gt;</span><span class="dl">&quot;</span></span> } }</pre></div>&#x000A;</div>&#x000A;
          </div>
          <div class='title'>
            <h2 class='entry-title'>
              <a href='/blog/2008/10/27/information-addicted.html'>
                Information Addicted
              </a>
            </h2>
          </div>
          <div class='post-date'>
            <abbr class='published' title='Mon Oct 27 10:01:58 -0400 2008'>
              Posted
              October 27, 2008
            </abbr>
          </div>
          <div class='entry-content'>
            <p>Sunday, the <a href="http://www.nytimes.com/">New York Times</a> had an <a href="http://www.nytimes.com/2008/10/26/technology/26boot.html?_r=1&amp;scp=1&amp;sq=boot%20time&amp;st=cse&amp;oref=slogin">article</a> about PC makers wanting to reduce boot times.  As a long-time Mac (and Linux) user, I see the problem differently.</p>&#x000A;<p>First, I rarely reboot my MacBook Pro; I just put the machine to sleep and wake it (and this is easily accomplished by closing and opening the lid).</p>&#x000A;<p>Second, I rarely reboot my phone; it also seems to sleep<sup class="footnote"><a href="#fn1">1</a></sup>.</p>&#x000A;<p>Third, the context driving this <em>War on Boot Times</em> is our increasing dependence on external information sources.  Think back to 1988<sup class="footnote"><a href="#fn2">2</a></sup> and you may recall a time when finding out what movies to see while you were away from a newspaper was a non-trivial task.  Now with a smart phone or a WiFi connected laptop, all the information to answer your question is readily available at a moment&#8217;s notice.  Think back to when you were out and would say: &#8216;I wish I could Google that&#8217;; now you just do it no matter where you are.</p>&#x000A;<p>The PC makers are fighting the last war.  This whole concept of reducing boot times is irrelevant.  The device should already be on and waiting on us.  No wait, make that <em>The Cloud</em> <strong>is</strong> already waiting on us.</p>&#x000A;<p>The trend is for <strong>more information, delivered faster, and requested instantaneously</strong>.  Someone should tell the PC makers.</p>&#x000A;<p class="footnote" id="fn1"><sup>1</sup> I am unsure exactly what the phone is doing when it is <em>asleep</em>.</p>&#x000A;<p class="footnote" id="fn2"><sup>2</sup> Moviefone was created in 1989.</p>
          </div>
          <div class='prepend-1 span-15'>
            <a href="/index2.html">&larr; Prev</a>
            &nbsp;
            <a href="/index4.html">Next &rarr;</a>
          </div>
        </div>
      </div>
      <div class='span-6 append-1 last' id='sidebar'>
        <div class='span-6 height-1'></div>
        <div class='prepend-1 span-5' id='about'>
          <h2>About</h2>
          <ul>
            <li>
              Les Hill is a software adventurer who works with
              <a href='http://www.ruby-lang.org'>Ruby</a>
              at
              <a href='http://hashrocket.com'>Hashrocket</a>
              .
            </li>
            <li class='last'>
              Follow me on <a href="http://www.twitter.com/leshill">Twitter</a>
            </li>
          </ul>
        </div>
        <div class='prepend-1 span-5' id='twitter'></div>
        <div class='prepend-1 span-5'>
          <h2>Subscribe</h2>
          <ul>
            <li>
              <a class='feed' href='/feed/atom.xml'>RSS</a>
            </li>
          </ul>
        </div>
        <div class='prepend-1 span-5'>
          <div class='archives'>
            <h2>Archives</h2>
            <ul>
              <li class='year'>
                <a href='/blog/2009'>2009</a>
                <ul>
                  <li class='month'>
                    <a href='/blog/2009/01'>January</a>
                  </li>
                  <li class='month'>
                    <a href='/blog/2009/02'>February</a>
                  </li>
                  <li class='month'>
                    <a href='/blog/2009/04'>April</a>
                  </li>
                  <li class='month'>
                    <a href='/blog/2009/05'>May</a>
                  </li>
                </ul>
              </li>
              <li class='year'>
                <a href='/blog/2008'>2008</a>
                <ul>
                  <li class='month'>
                    <a href='/blog/2008/2'>February</a>
                  </li>
                  <li class='month'>
                    <a href='/blog/2008/5'>May</a>
                  </li>
                  <li class='month'>
                    <a href='/blog/2008/7'>July</a>
                  </li>
                  <li class='month'>
                    <a href='/blog/2008/8'>August</a>
                  </li>
                  <li class='month'>
                    <a href='/blog/2008/10'>October</a>
                  </li>
                  <li class='month'>
                    <a href='/blog/2008/12'>December</a>
                  </li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class='span-24' id='footer'>
      <p>
        Wonderland is styled using
        <a href='http://www.blueprintcss.org/'>blueprint css</a>
        and powered by
        <a href='http://webby.rubyforge.org/'>Webby</a>
        and
        <a href='http://github.com/blog/272-github-pages'>GitHub Pages</a>
      </p>
      <p>
        Les Hill &copy; 2008&ndash;2009
      </p>
    </div>
  </div>
</body>
